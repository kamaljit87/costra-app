# =============================================================================
# Costra â€“ Environment variables
# Copy to .env and fill in values. Never commit .env.
# =============================================================================

# --- Required (backend) ---
DATABASE_URL=postgresql://user:password@host:5432/costra
JWT_SECRET=your-secret-key-min-32-characters-change-in-production

# --- Optional: DB (if not using DATABASE_URL) ---
# DB_HOST=localhost
# DB_PORT=5432
# DB_NAME=costra
# DB_USER=postgres
# DB_PASSWORD=postgres
# DB_SSL_REJECT_UNAUTHORIZED=true
# DB_SSL_CA=
# DB_POOL_MIN=5
# DB_POOL_MAX=20

# --- Redis (required for production) ---
REDIS_URL=redis://localhost:6379

# --- App URLs ---
FRONTEND_URL=https://costra.app
# API_URL= used by sync scheduler / callbacks
# COSTRA_API_URL= or API_BASE_URL= for AWS callback URL

# --- Google OAuth ---
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# Required for redirect (callback) flow when user is sent to /auth/google/callback?code=...
GOOGLE_CLIENT_SECRET=your-google-client-secret
FRONTEND_URL=https://costra.app

# Frontend (required for Google Sign-In button; Vite bakes these in at build time)
VITE_GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
# VITE_API_URL=/api   (default in production behind nginx)

# --- Billing: Dodo Payments (optional; when set, used instead of Stripe) ---
# DODO_PAYMENTS_API_KEY=
# DODO_PAYMENTS_WEBHOOK_KEY=
# DODO_PAYMENTS_ENVIRONMENT=test_mode
# DODO_STARTER_MONTHLY_PRODUCT_ID=
# DODO_STARTER_ANNUAL_PRODUCT_ID=
# DODO_PRO_MONTHLY_PRODUCT_ID=
# DODO_PRO_ANNUAL_PRODUCT_ID=

# --- Billing: Stripe (optional; used when Dodo not configured) ---
# STRIPE_SECRET_KEY=
# STRIPE_WEBHOOK_SECRET=
# STRIPE_STARTER_PRICE_ID= or STRIPE_STARTER_PRICE_ID_MONTHLY
# STRIPE_STARTER_PRICE_ID_ANNUAL=
# STRIPE_PRO_PRICE_ID= or STRIPE_PRO_PRICE_ID_MONTHLY
# STRIPE_PRO_PRICE_ID_ANNUAL=

# --- Encryption (production) ---
# ENCRYPTION_KEY= 32+ chars or hex; required in prod if storing sensitive data

# --- AWS (for Costra billing connection / CloudFormation) ---
# AWS_ACCESS_KEY_ID=
# AWS_SECRET_ACCESS_KEY=
# COSTRA_AWS_ACCOUNT_ID=
# CLOUDFORMATION_TEMPLATE_URL=

# --- Email ---
# SENDGRID_API_KEY=  or  SMTP_HOST= SMTP_USER= SMTP_PASS= SMTP_PORT=587
# EMAIL_FROM=noreply@costra.com
# SUPPORT_EMAIL=

# --- AI (Anthropic) ---
# ANTHROPIC_API_KEY=

# --- Monitoring / errors ---
# SENTRY_DSN=
# LOG_LEVEL=info
# METRICS_TOKEN= for /metrics

# --- Alerts ---
# SLACK_WEBHOOK_URL=
# ALERT_EMAIL=

# --- Exchange rates (health check) ---
# EXCHANGE_RATE_API_URL=

# --- Server ---
# NODE_ENV=production
# PORT=3002

# Disable sign-up (e.g. while testing). When set to true or 1, signup is disabled and /signup redirects to login.
# DISABLE_SIGNUP=true
